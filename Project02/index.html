<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculator</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="body" id="calculator">
      <div class="result" id="display"></div>
      <div class="buttons">
        <div>
          <button>1</button>
          <button>2</button>
          <button>3</button>
          <button>-</button>
        </div>
        <div>
          <button>4</button>
          <button>5</button>
          <button>6</button>
          <button>x</button>
        </div>
        <div>
          <button>7</button>
          <button>8</button>
          <button>9</button>
          <button>+</button>
        </div>
        <div>
          <button>/</button>
          <button>0</button>
          <button>.</button>
          <button>=</button>
        </div>
      </div>
      <button type="reset" class="reset">Clear all</button>
    </div>
    <script>
      const calculator = document.getElementById("calculator");
      const display = document.getElementById("display");
      const buttons = calculator.querySelectorAll("button");

      let currentValue = "";
      let operator = "";

      buttons.forEach((button) => {
        button.addEventListener("click", () => {
          const buttonValue = button.textContent;
          // console.log("this is the first curVal: ", currentValue);

          if (buttonValue === "Clear all") {
            currentValue = "";
            operator = "";
            display.textContent = "";
          } 
          else if ( buttonValue === "+" || buttonValue === "-" || buttonValue === "x" ||  buttonValue === "/" ) {
                      if (currentValue) {
                        console.log("this is the curVal: ", currentValue);
                        operator = buttonValue;
                        pastValue = currentValue
                        display.textContent += ` ${operator} `;
                        console.log(pastValue, operator);
                      }
          } else if (buttonValue === "=") {
                    if (currentValue && operator) {
                      // const result = calculate(currentValue, operator);
                      // currentValue = Number(result);
                      // operator = "";
                      var result = Number(pastValue) + Number(currentValue)
                      console.log(result)
                      display.textContent = result;
                    }
          } else {
            currentValue = buttonValue;
            console.log("this is the current value", currentValue)
            display.textContent += buttonValue;
          }
        });
      });

      function calculate(num1, operator) {
        num1 = Number(num1);
        const num2 = Number(currentValue);

        console.log("the current value", num2);
        console.log( "the args value", num1);
        console.log(typeof num2);
        switch (operator) {
          case "+":
            return num1 + num2;
          case "-":
            return num1 - num2;
          case "x":
            return num1 * num2;
          case "/":
            return num1 / num2;
          default:
            return 0;
        }
      }
    </script>
  </body>
</html>
